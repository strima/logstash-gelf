<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-03-04 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20140304" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Logstash/Gelf Loggers - </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/mp911de/logstash-gelf">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://logging.paluch.biz/" id="bannerLeft">
                <h2>Logstash/Gelf Loggers</h2>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-03-04
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 1.3.0
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="../index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                              <li class="nav-header">Examples</li>
                              
      <li>
  
                          <a href="../examples/jul.html" title="Java Util Logging">
          <i class="none"></i>
        Java Util Logging</a>
            </li>
                
      <li>
  
                          <a href="../examples/log4j-1.2.x.html" title="log4j v1.2.x">
          <i class="none"></i>
        log4j v1.2.x</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>log4j v2.x</a>
          </li>
                
      <li>
  
                          <a href="../examples/logback.html" title="Logback">
          <i class="none"></i>
        Logback</a>
            </li>
                
      <li>
  
                          <a href="../mdcprofiling.html" title="MDC Profiling">
          <i class="none"></i>
        MDC Profiling</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                              
      <li>
  
                          <a href="../apidocs/index.html" title="JavaDoc">
          <i class="none"></i>
        JavaDoc</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                  
      <li>
  
                          <a href="../project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                    
      <li>
  
                          <a href="../project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
               
        
        
        <div id="twitter">
    
    <a href="https://twitter.com/mp911de" class="twitter-follow-button" data-show-count="true" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow mp911de</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        </div>
                   <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Settings<a name="Settings"></a></h2>
<p>Following settings can be used:</p>

<ul>
  
<li>host (since 1.2, Mandatory): Hostname/IP-Address of the Logstash Host
  
<ul>
    
<li>tcp:(the host) for TCP, e.g. tcp:127.0.0.1 or tcp:some.host.com</li>
    
<li>udp:(the host) for UDP, e.g. udp:127.0.0.1 or udp:some.host.com</li>
    
<li>(the host) for UDP, e.g. 127.0.0.1 or some.host.com</li>
  </ul></li>
  
<li>port (since 1.2, Optional): Port, default 12201</li>
  
<li>graylogHost (until 1.1, Mandatory): Hostname/IP-Address of the Logstash Host</li>
  
<li>graylogPort (until 1.1, Optional): Port, default 12201</li>
  
<li>originHost (Optional): Originating Hostname, default FQDN Hostname</li>
  
<li>extractStackTrace (Optional): Post Stack-Trace to StackTrace field, default false</li>
  
<li>filterStackTrace (Optional): Perform Stack-Trace filtering (true/false), default false</li>
  
<li>mdcProfiling (Optional): Perform Profiling (Call-Duration) based on MDC Data. See MDC Profiling, default false. See <a href="../mdcprofiling.html">MDC Profiling</a> for details.</li>
  
<li>facility (Optional): Name of the Facility, default logstash-gelf</li>
</ul>
<div class="section">
<h3>Fields<a name="Fields"></a></h3>
<p>Log4j v2 supports an extensive and flexible configuration in contrast to other log frameworks (JUL, log4j v1). This allows you to specify your needed fields you want to use in the GELF message. An empty field configuration results in a message containing only</p>

<ul>
  
<li>timestamp</li>
  
<li>level (syslog level)</li>
  
<li>host</li>
  
<li>facility</li>
  
<li>message</li>
  
<li>short_message</li>
</ul>
<p>You can add different fields:</p>

<ul>
  
<li>Static Literals</li>
  
<li>MDC Fields</li>
  
<li>Log-Event fields (using Pattern Layout)</li>
</ul>
<p>In order to do so, use nested Field elements below the Appender element.</p></div>
<div class="section">
<h3>Static Literals<a name="Static_Literals"></a></h3>

<div class="source">
<pre>&lt;Field name=&quot;fieldName1&quot; literal=&quot;your literal value&quot; /&gt;
</pre></div></div>
<div class="section">
<h3>MDC Fields<a name="MDC_Fields"></a></h3>

<div class="source">
<pre>&lt;Field name=&quot;fieldName1&quot; mdc=&quot;name of the MDC entry&quot; /&gt;
</pre></div></div>
<div class="section">
<h3>Dynamic MDC Fields<a name="Dynamic_MDC_Fields"></a></h3>

<div class="source">
<pre>&lt;DynamicMdcFields regex=&quot;mdc.*&quot; /&gt;
</pre></div>
<p>In contrast to the configuration of other log frameworks log4j2 config uses one <tt>DynamicMdcFields</tt> element per regex (not separated by comma).</p></div>
<div class="section">
<h3>Log-Event fields<a name="Log-Event_fields"></a></h3>
<p>See also: <a class="externalLink" href="http://logging.apache.org/log4j/2.x/manual/layouts.html#PatternLayout">Pattern Layout</a></p>
<p>Set the desired pattern and the field will be sent using the specified pattern value. </p>
<p>Additionally, you can add the host-Field, which can supply you either the FQDN hostname, the simple hostname or the local address.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Option </th>
      
<th>Description</th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>host{[&#x201c;fqdn&#x201d;<br />&#x201c;simple&#x201d;<br />&#x201c;address&#x201d;]} </td>
      
<td>Outputs either the FQDN hostname, the simple hostname or the local address. You can follow the throwable conversion word with an option in the form %host{option}. <br /> %host{fqdn} default setting, outputs the FQDN hostname, e.g. www.you.host.name.com. <br />%host{simple} outputs simple hostname, e.g. www. <br />%host{address} outputs the local IP address of the found hostname, e.g. 1.2.3.4 or affe:affe:affe::1.</td>
    </tr>
  </tbody>
</table>
<p>XML:</p>

<div class="source">
<pre>&lt;Configuration&gt;
    &lt;Appenders&gt;
        &lt;Gelf name=&quot;gelf&quot; graylogHost=&quot;udp:localhost&quot; graylogPort=&quot;12201&quot; extractStackTrace=&quot;true&quot;
              filterStackTrace=&quot;true&quot; mdcProfiling=&quot;true&quot; maximumMessageSize=&quot;8192&quot;&gt;
            &lt;Field name=&quot;timestamp&quot; pattern=&quot;%d{dd MMM yyyy HH:mm:ss,SSS}&quot; /&gt;
            &lt;Field name=&quot;level&quot; pattern=&quot;%level&quot; /&gt;
            &lt;Field name=&quot;simpleClassName&quot; pattern=&quot;%C{1}&quot; /&gt;
            &lt;Field name=&quot;className&quot; pattern=&quot;%C&quot; /&gt;
            &lt;Field name=&quot;server&quot; pattern=&quot;%host&quot; /&gt;
            &lt;Field name=&quot;server.fqdn&quot; pattern=&quot;%host{fqdn}&quot; /&gt;
            &lt;Field name=&quot;fieldName2&quot; literal=&quot;fieldValue2&quot; /&gt; &lt;!-- This is a static field --&gt;
            &lt;Field name=&quot;mdcField2&quot; mdc=&quot;mdcField2&quot; /&gt; &lt;!-- This is a field using MDC --&gt;
            &lt;DynamicMdcFields regex=&quot;mdc.*&quot; /&gt;
            &lt;DynamicMdcFields regex=&quot;(mdc|MDC)fields&quot; /&gt;
        &lt;/Gelf&gt;
    &lt;/Appenders&gt;
    &lt;Loggers&gt;
        &lt;Root level=&quot;INFO&quot;&gt;
            &lt;AppenderRef ref=&quot;gelf&quot; /&gt;
        &lt;/Root&gt;
    &lt;/Loggers&gt;
&lt;/Configuration&gt;
</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                   2013&#x2013;2014.
          All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
      
    <!-- Piwik -->
    <script type="text/javascript">
    var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.paluch.biz/" : "http://piwik.paluch.biz/");
    document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
    </script><script type="text/javascript">
    try {
    var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 4);
    piwikTracker.trackPageView();
    piwikTracker.enableLinkTracking();
    } catch( err ) {}
    </script><noscript><p><img src="http://piwik.paluch.biz/piwik.php?idsite=4" style="border:0" alt=""/></p></noscript>
    <!-- End Piwik Tag -->
    </body>
</html>
